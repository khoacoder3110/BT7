<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sidebar Menu | CodingNepal</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Linking Google fonts for icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="site-nav">
      <button class="sidebar-toggle">
        <span class="material-symbols-rounded">menu</span>
      </button>
    </nav>

    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar collapsed">
        <!-- Sidebar header -->
        <div class="sidebar-header">
          <img src="logo.png" alt="CodingNepal" class="header-logo" />
          <button class="sidebar-toggle">
            <span class="material-symbols-rounded">chevron_left</span>
          </button>
        </div>

        <div class="sidebar-content">
          <!-- Search Form -->
          <form action="#" class="search-form">
            <span class="material-symbols-rounded">search</span>
            <input type="search" placeholder="Search..." required />
          </form>

          <!-- Sidebar Menu -->
          <ul class="menu-list">
            <li class="menu-item">
              <a href="#" class="menu-link active">
                <span class="material-symbols-rounded">dashboard</span>
                <span class="menu-label">Dashboard</span>
              </a>
            </li>
            <li class="menu-item">
              <a href="#" class="menu-link">
                <span class="material-symbols-rounded">neurology</span>
                <span class="menu-label">Mini game</span>
              </a>
            </li>
            <li class="menu-item">
              <a href="#" class="menu-link">
                <span class="material-symbols-rounded">insert_chart</span>
                <span class="menu-label">Piano</span>
              </a>
            </li>
            <li class="menu-item">
              <a href="#" class="menu-link">
                <span class="material-symbols-rounded">star</span>
                <span class="menu-label">Draw</span>
              </a>
            </li>
            <li class="menu-item">
              <a href="#" class="menu-link">
                <span class="material-symbols-rounded">notifications</span>
                <span class="menu-label">Notifications</span>
              </a>
            </li>
            <li class="menu-item">
              <a href="#" class="menu-link">
                <span class="material-symbols-rounded">storefront</span>
                <span class="menu-label">Products</span>
              </a>
            </li>
            <li class="menu-item">
              <a href="#" class="menu-link">
                <span class="material-symbols-rounded">group</span>
                <span class="menu-label">Customers</span>
              </a>
            </li>
            <li class="menu-item">
              <a href="#" class="menu-link">
                <span class="material-symbols-rounded">settings</span>
                <span class="menu-label">Settings</span>
              </a>
            </li>
          </ul>
        </div>

        <!-- Sidebar Footer -->
        <div class="sidebar-footer">
          <button class="theme-toggle">
            <div class="theme-label">
              <span class="theme-icon material-symbols-rounded">dark_mode</span>
              <span class="theme-text">Dark Mode</span>
            </div>
            <div class="theme-toggle-track">
              <div class="theme-toggle-indicator"></div>
            </div>
          </button>
        </div>
      </aside>

      <!-- Site main content -->
      <div class="main-content" id="profile-content">
        <h1 class="page-title">Dashboard Overview</h1>
        <p class="card">My Profile</p>
        <div class="iframe-wrapper">
          <iframe src="index1.html" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
      <div class="main-content hidden" id="game-content" style="display:none;">
        <h1 class="page-title">Mini Game</h1>
        <p class="card">Let's Start</p>
        <div class="wrapper">
          <ul class="cards">
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-1.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-6.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-3.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-2.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-1.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-5.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-2.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-6.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-3.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-4.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-5.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-4.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-1.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-2.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-3.png" alt="card-img">
              </div>
            </li>
            <li class="card">
              <div class="view front-view">
                <img src="images/que_icon.svg" alt="icon">
              </div>
              <div class="view back-view">
                <img src="images/img-4.png" alt="card-img">
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div class="main-content hidden" id="draw-content">
        <h1 class="page-title">Cùng nhau vẽ nào</h1>
        <section class="tools-board">
          <div class="row">
            <label class="title">Shapes</label>
            <ul class="options">
              <li class="option tool" id="rectangle">
                <img src="icons/rectangle.svg" alt="">
                <span>Rectangle</span>
              </li>
              <li class="option tool" id="circle">
                <img src="icons/circle.svg" alt="">
                <span>Circle</span>
              </li>
              <li class="option tool" id="triangle">
                <img src="icons/triangle.svg" alt="">
                <span>Triangle</span>
              </li>
              <li class="option">
                <input type="checkbox" id="fill-color">
                <label for="fill-color">Fill color</label>
              </li>
            </ul>
          </div>
          <div class="row">
            <label class="title">Options</label>
            <ul class="options">
              <li class="option active tool" id="brush">
                <img src="icons/brush.svg" alt="">
                <span>Brush</span>
              </li>
              <li class="option tool" id="eraser">
                <img src="icons/eraser.svg" alt="">
                <span>Eraser</span>
              </li>
              <li class="option">
                <input type="range" id="size-slider" min="1" max="30" value="5">
              </li>
            </ul>
          </div>
          <div class="row colors">
            <label class="title">Colors</label>
            <ul class="options">
              <li class="option"></li>
              <li class="option selected"></li>
              <li class="option"></li>
              <li class="option"></li>
              <li class="option">
                <input type="color" id="color-picker" value="#4A98F7">
              </li>
            </ul>
          </div>
          <div class="row buttons">
            <button class="clear-canvas">Clear Canvas</button>
            <button class="save-img">Save As Image</button>
          </div>
        </section>
        <section class="drawing-board">
          <canvas></canvas>
        </section>
      </div>
      <div class="main-content hidden" id="piano-content" style="display: none;">
      <h1 class="page-title">Piano</h1>
      <div class="wrapper">
      <header>
        <div class="column volume-slider">
          <span>Volume</span><input type="range" min="0" max="1" value="0.5" step="any">
        </div>
        <div class="column keys-checkbox">
          <span>Show Keys</span><input type="checkbox" checked>
        </div>
      </header>
      <ul class="piano-keys">
        <li class="key white" data-key="a"><span>a</span></li>
        <li class="key black" data-key="w"><span>w</span></li>
        <li class="key white" data-key="s"><span>s</span></li>
        <li class="key black" data-key="e"><span>e</span></li>
        <li class="key white" data-key="d"><span>d</span></li>
        <li class="key white" data-key="f"><span>f</span></li>
        <li class="key black" data-key="t"><span>t</span></li>
        <li class="key white" data-key="g"><span>g</span></li>
        <li class="key black" data-key="y"><span>y</span></li>
        <li class="key white" data-key="h"><span>h</span></li>
        <li class="key black" data-key="u"><span>u</span></li>
        <li class="key white" data-key="j"><span>j</span></li>
        <li class="key white" data-key="k"><span>k</span></li>
        <li class="key black" data-key="o"><span>o</span></li>
        <li class="key white" data-key="l"><span>l</span></li>
        <li class="key black" data-key="p"><span>p</span></li>
        <li class="key white" data-key=";"><span>;</span></li>
      </ul>
      </div>
    </div>
    </div>
    <script src="script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Sidebar menu tab switching logic
        const menuLinks = document.querySelectorAll(".menu-link");
        const profileContent = document.getElementById("profile-content");
        const gameContent = document.getElementById("game-content");
        const drawContent = document.getElementById("draw-content");
        // Ẩn mini game và drawing board khi load trang
        gameContent.classList.add("hidden");
        gameContent.style.display = "none";
        drawContent.classList.add("hidden");
        drawContent.style.display = "none";
        menuLinks.forEach((link) => {
          link.addEventListener("click", function(e) {
            e.preventDefault();
            menuLinks.forEach(l => l.classList.remove("active"));
            this.classList.add("active");
            if (this.querySelector(".menu-label")?.textContent.trim() === "Mini game") {
              profileContent.classList.add("hidden");
              profileContent.style.display = "none";
              gameContent.classList.remove("hidden");
              gameContent.style.display = "block";
              drawContent.classList.add("hidden");
              drawContent.style.display = "none";
              if (typeof initMiniGame === 'function') {
                setTimeout(initMiniGame, 0);
              }
            } else if (this.querySelector(".menu-label")?.textContent.trim() === "Draw") {
              profileContent.classList.add("hidden");
              profileContent.style.display = "none";
              gameContent.classList.add("hidden");
              gameContent.style.display = "none";
              drawContent.classList.remove("hidden");
              drawContent.style.display = "block";
            } else if (label === "Piano") {
              profileContent.classList.add("hidden");
              profileContent.style.display = "none";
              gameContent.classList.add("hidden");
              gameContent.style.display = "none";
              drawContent.classList.add("hidden");
              drawContent.style.display = "none";
              pianoContent.classList.remove("hidden");
              pianoContent.style.display = "block";
            }else {
              profileContent.classList.remove("hidden");
              profileContent.style.display = "block";
              gameContent.classList.add("hidden");
              gameContent.style.display = "none";
              drawContent.classList.add("hidden");
              drawContent.style.display = "none";
            }
          });
        });
        // Sidebar toggle logic (cho cả 2 nút)
        const sidebar = document.querySelector(".sidebar");
        const sidebarToggleBtns = document.querySelectorAll(".sidebar-toggle");
        sidebarToggleBtns.forEach(btn => {
          btn.addEventListener("click", function() {
            sidebar.classList.toggle("collapsed");
          });
        });
        // Swiper fix: ensure Swiper is initialized after DOM and iframe loaded
        if (window.Swiper) {
          const swiper = new Swiper(".card-wrapper", {
            loop: true,
            spaceBetween: 30,
            slidesPerView: 3,
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            pagination: {
              el: ".swiper-pagination",
              clickable: true,
              dynamicBullets: true,
            },
            breakpoints: {
              0: { slidesPerView: 1 },
              768: { slidesPerView: 2 },
              1024: { slidesPerView: 3 },
            },
          });
        }
      });
    </script>
    <style>
      html, body {
        width: 100vw;
        height: 100vh;
        min-height: 100vh;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        overflow: hidden;
      }
      .container {
        display: flex;
        flex-direction: row;
        align-items: stretch;
        width: 100vw;
        height: 100vh;
        min-height: 100vh;
        padding: 0;
        margin: 0;
      }
      .sidebar {
        position: relative;
        left: 0;
        top: 0;
        height: 100vh;
        min-width: 90px;
        max-width: 270px;
        width: 270px;
        flex-shrink: 0;
        z-index: 2;
        overflow-y: auto;
      }
      .sidebar.collapsed {
        width: 90px;
        min-width: 90px;
      }
      .main-content {
        flex: 1 1 0;
        min-width: 0;
        min-height: 0;
        height: 100vh;
        padding: 30px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        overflow: auto;
      }
      .main-content .iframe-wrapper {
        width: 100%;
        height: 100%;
        min-height: 0;
        max-height: 100%;
        display: flex;
        /* overflow: visible !important; */
        background: transparent;
      }
      .main-content .iframe-wrapper iframe {
        width: 100%;
        height: 100%;
        border: none;
        border-radius: 10px;
        /* background: transparent !important; */
        min-height: 0;
        overflow: visible !important;
        /* Allow 3D transforms inside iframe */
        transform-style: preserve-3d;
        will-change: transform;
      }
      .card-wrapper {
        max-width: 100%;
        margin: 0 auto 35px;
        padding: 20px 5px;
        overflow: hidden;
      }
      @media (max-width: 1200px) {
        .main-content {
          padding: 20px;
        }
      }
      @media (max-width: 900px) {
        .main-content {
          padding: 10px;
        }
      }
      @media (max-width: 600px) {
        .main-content {
          padding: 5px;
        }
        .sidebar {
          max-width: 100vw;
        }
        .card-wrapper { max-width: 100vw; padding: 0; }
      }
    </style>
  </body>
</html>
